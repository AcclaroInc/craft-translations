{% import '_includes/forms' as forms %}

{% if orderQuote is defined and orderQuote is not null %}
    <table class="data fullwidth">
        <thead>
            <tr>
                <th>Description</th>
                <th>Units</th>
                <th>Unit Price</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% set commentBox = true %}
            {% for item in orderQuote['lines'] %}
                {% if item['quantity'] == 0 and item['unitprice'] == 0 and item['price'] == 0 %}
                    <tr class="bold">
                        <td>{{ item['description'] }}</td>
                        <td></td><td></td><td></td>
                        {% if commentBox %}
                            {% set commentBox = false %}
                            <td rowspan="{{ orderQuote['lines']|length }}" style="vertical-align:top;max-width:170px;">
                                <div class="heading">
                                    <label>Comments</label>
                                </div>
                                <div class="input ltr">
                                    {{ forms.textarea({
                                        id: "quoteComment",
                                        name: "quoteComment",
                                        rows: 10,
                                        cols: 30,
                                        placeholder: "Add your comment here...",
                                        title: "comments"
                                    }) }}
                                </div>
                            </td>
                        {% endif %}
                    </tr>
                {% else %}
                    <tr>
                        <td class="pdl-30">{{ item['description'] }}</td>
                        <td>{{ item['quantity'] }}</td>
                        <td>{{ '$'~ item['unitprice'] }}</td>
                        <td>{{ '$'~ item['price'] }}</td>
                    </tr>
                {% endif %}
            {% endfor %}

            <thead>
                <tr>
                    <th>Net Price</th>
                    <th></th>
                    <th></th>
                    <th>{{ "$"~ orderQuote['total'] }}</th>
                </tr>
            </thead>
        </tbody>
    </table>
{% else %}
    <div class="field" style="margin-left:10px !important; margin-top:20px !important;">
        <div class="meta">
            <label class="bold"> {{ orderQuote is defined ? "Error fetching quote details" : "Your quote is being processed by translator" }} </label>
        </div>
    </div>
{% endif %}